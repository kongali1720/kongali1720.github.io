<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>BNY ➜ BRO | Simulasi Transfer Dana PRO</title>
  <style>
    body {
      background-color: black;
      color: lime;
      font-family: "Courier New", monospace;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: cyan;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background-color: #111;
      padding: 20px;
      border: 2px solid lime;
      border-radius: 10px;
    }
    input, button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      background-color: #222;
      color: lime;
      border: 1px solid lime;
      border-radius: 5px;
    }
    .output {
      white-space: pre-wrap;
      margin-top: 20px;
      border: 1px solid cyan;
      padding: 15px;
      display: none;
      background-color: #000;
    }
    footer {
      text-align: center;
      color: gray;
      margin-top: 40px;
    }
  </style>
</head>
<body>
  <h1>💸 Transfer Dana BNY ➜ BRO [PRO EDITION]</h1>
  <div class="container">
    <input id="sender" placeholder="Nama Pengirim (BNY)" />
    <input id="senderAcc" placeholder="No Rek BNY" />
    <input id="saldo" type="number" placeholder="Saldo Tersedia" />
    <input id="receiver" placeholder="Nama Penerima (BRO)" />
    <input id="receiverAcc" placeholder="No Rek BRO" />
    <input id="amount" type="number" placeholder="Jumlah Transfer (Rp)" />
    <input id="branchCode" placeholder="Kode Cabang BRO" />
    
    <button onclick="transfer()">🚀 KIRIM SEKARANG</button>
    <button onclick="printPDF()">🧾 CETAK STRUK PDF</button>

    <div class="output" id="output"></div>
  </div>

  <footer>© 2025 Kongali1720 | Simulasi Transfer Dana Canggih</footer>

  <script>
    function encryptFakeAES(text) {
      return btoa(text).split("").reverse().join(""); // Fake "AES" style
    }

    function transfer() {
      const sender = document.getElementById("sender").value;
      const senderAcc = document.getElementById("senderAcc").value;
      const saldo = parseInt(document.getElementById("saldo").value);
      const receiver = document.getElementById("receiver").value;
      const receiverAcc = document.getElementById("receiverAcc").value;
      const amount = parseInt(document.getElementById("amount").value);
      const branchCode = document.getElementById("branchCode").value;
      const output = document.getElementById("output");

      if (!sender || !senderAcc || !saldo || !receiver || !receiverAcc || !amount || !branchCode) {
        output.style.display = "block";
        output.innerText = "[✘] ERROR: Semua kolom wajib diisi!";
        return;
      }

      if (saldo < amount) {
        output.style.display = "block";
        output.innerText = "[✘] GAGAL: Saldo tidak mencukupi!";
        return;
      }

      const now = new Date();
      const timestamp = now.toLocaleString("id-ID");
      const txid = "TX-" + now.getTime();
      const encryptedData = encryptFakeAES(sender + receiver + amount + txid);

      const log = `
[•] TLS 1.3 Secure Connection Established
[•] Data dienkripsi (AES Palsu)...
[✓] Transfer diproses...

===== BUKTI TRANSFER BNY ➜ BRO =====
🆔 ID Transaksi : ${txid}
🕒 Tanggal      : ${timestamp}
📤 Dari         : ${sender} / ${senderAcc}
📥 Kepada       : ${receiver} / ${receiverAcc}
🏦 Cabang BRO   : ${branchCode}
💰 Jumlah       : Rp ${amount.toLocaleString("id-ID")}
🔐 Enkripsi     : ${encryptedData.slice(0, 15)}...
✅ STATUS       : BERHASIL
====================================
      `.trim();

      output.style.display = "block";
      output.innerText = log;

      localStorage.setItem(txid, log); // Simpan log ke LocalStorage
    }

    function printPDF() {
      const content = document.getElementById("output").innerText;
      if (!content) {
        alert("Belum ada struk untuk dicetak!");
        return;
      }

      const win = window.open('', '', 'width=600,height=700');
      win.document.write(`<pre>${content}</pre>`);
      win.document.close();
      win.print();
    }
  </script>
</body>
</html>
